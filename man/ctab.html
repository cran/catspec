<html><head><title>R: Percentage tables</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for ctab {unknown}"><tr><td>ctab {unknown}</td><td align="right">R Documentation</td></tr></table>
<h2>Percentage tables</h2>


<h3>Description</h3>

<p>
Produces one-way, two-way or multi-way percentage tables
</p>


<h3>Usage</h3>

<pre>
ctab(..., dec.places=2, digits=dec.places, type=c("n", "row", "column", "total"),
style="long", row.vars=NULL, col.vars=NULL, percentages=TRUE, addmargins=FALSE)

ctab0(...)

## S3 method for class 'ctab':
print(x, dec.places=x$dec.places, addmargins=x$addmargins, ...)

## S3 method for class 'ctab':
summary(object,...)
</pre>


<h3>Details</h3>

<p>
<code>ctab</code> uses <code><a href="../../../doc/html/search/SearchObject.html?ftable">ftable</a></code> and <code><a href="../../../doc/html/search/SearchObject.html?prop.table">prop.table</a></code> to produce one-way frequency tables, two-way crosstables, or multi-way percentage tables. More than one percentage type may be specified, in which case &ldquo;percentage type&rdquo; is an unnamed dimension of the table. <code>row.vars</code> and <code>col.vars</code> can be used to control the layout of multi-way tables using the facilities of <code>ftable</code>. Subtotals can be added by specifiying <code>addmargins=TRUE</code>. Note that <code>[gmodels]</code><code><a href="../../gmodels/html/CrossTable.html">CrossTable</a></code> in the <code>gmodels</code> package also provides an easy method for producing percentage tables, but only for two-way tables.
</p>
<p>
If <code>ctab</code> is specified with no further options and for more than one factor, the output is identical to that of <code><a href="../../../doc/html/search/SearchObject.html?ftable">ftable</a></code>. If a single factor is specified, the default is to print the frequencies column-wise with the percentaqes next to them.
</p>


<h3>Value</h3>

<p>
An object of class &ldquo;ctab&rdquo;. <code>print.ctab</code> prints the table, <code>summary.ctab</code> passes the frequency table on to <code><a href="../../../doc/html/search/SearchObject.html?summary.table">summary.table</a></code>, which prints the number of cases, number of factors, and a chi-square test of independence.
</p>
<table summary="R argblock">
<tr valign="top"><td><code>table</code></td>
<td>
A <code>class(table)</code> object containing the table counts. Used by <code>summary.ctab</code> and by <code>ctab</code> itself if a <code>ctab</code> object is used as input.</td></tr>
<tr valign="top"><td><code>ctab</code></td>
<td>
A <code>class(ftable)</code> object containing the percentage types specified. This is printed by <code>print.ctab</code>.</td></tr>
<tr valign="top"><td><code>row.vars</code></td>
<td>
The <code>row.vars</code> options as numeric vectors</td></tr>
<tr valign="top"><td><code>col.vars</code></td>
<td>
The <code>col.vars</code> options as numeric vectors</td></tr>
<tr valign="top"><td><code>dec.places</code></td>
<td>
The <code>dec.places</code> option</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
The <code>type</code> option</td></tr>
<tr valign="top"><td><code>style</code></td>
<td>
The <code>style</code> option</td></tr>
<tr valign="top"><td><code>percentages</code></td>
<td>
The <code>percentages</code> option</td></tr>
<tr valign="top"><td><code>addmargins</code></td>
<td>
The <code>addmargins</code> option</td></tr>
</table>

<h3>Changed defaults in version 0.91</h3>

<p>
In version 0.90 of the <code>catspec</code> package, the default was to treat the first factor as row variable, the second as column variable, the third and following as grouping variables. In version 0.91, the <code>ftable</code> defaults are used instead. Use <code>ctab0</code> to get the same variable order as before. <code>ctab0</code> will print a line showing the <code>row.vars</code> and <code>col.vars</code> specifications to be used in future, as well as the regular output.
</p>
<p>
The option name <code>digits</code> has been replaced by <code>dec.places</code>, which I consider clearer. <code>digits</code> remains a synonym for <code>dec.places</code>.
</p>


<h3>Author(s)</h3>

<p>
John Hendrickx &lt;<a href="mailto:John_Hendrickx@yahoo.com">John_Hendrickx@yahoo.com</a>&gt;
</p>


<h3>References</h3>

<p>
<a href="http://www.xs4all.nl/~jhckx/">http://www.xs4all.nl/~jhckx/</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="../../../doc/html/search/SearchObject.html?table">table</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?ftable">ftable</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?addmargins">addmargins</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?prop.table">prop.table</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?xtabs">xtabs</a></code>, <code>[gmodels]</code><code><a href="../../gmodels/html/CrossTable.html">CrossTable</a></code>
</p>


<h3>Examples</h3>

<pre>
ftable(Titanic)
ctab(Titanic) # same output
ctab(Titanic,type="r")
ctab(Titanic,type=c("n","r"),addmargins=T)
ctab(Titanic,type=c("n","c","t","r"),style="w")
mytab&lt;-ftable(Titanic,row.vars=c(1,3),type="r")
mytab
ctab(mytab)
newtab&lt;-ctab(mytab,type="r")
newtab
summary(newtab)
ctab0(Titanic,type="r")

#second example using a data frame rather than table data
data(logan)
class(logan) #"data.frame"
ctab(occ)
ctab(occ,addmargins=T)
ctab(occ,style="w",type="c")
ctab(occ,style="l",type="n")
z&lt;-ctab(occ,addmargins=T,style="l")
z
print(z,addmargins=F,dec.places=5)
summary(z)

t&lt;-ctab(focc,occ,type=c("n","r","c"))
t
summary(t)
</pre>



<hr><div align="center">[Package <a href="00Index.html">Index]</a></div>

</body></html>
